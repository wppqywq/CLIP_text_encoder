{
  "config": {
    "model_name": "ViT-B-32",
    "pretrained": "laion2b_s34b_b79k",
    "device_preference": "cuda",
    "seed": 42,
    "run_splits": [
      "train",
      "val",
      "test"
    ],
    "limit_images": 1000,
    "batch_size": 32,
    "k_values": [
      1,
      5,
      10
    ],
    "chunk_words": 16,
    "chunk_stride": 4,
    "chunk_threshold": 20,
    "text_pooling": "attn",
    "adapter_steps": 300,
    "adapter_lr": 1e-05,
    "adapter_logit_lr": 5e-07,
    "adapter_batch": 64,
    "adapter_hidden": 64,
    "distill_weights": [
      0.2
    ],
    "fine_grained_weight": 0.5,
    "cache_chunk_image_embeds": true,
    "teacher_cache_on_cpu": true,
    "output_name": "vg_smoke_cw16_attn",
    "process_config": {
      "max_images": 5000,
      "max_regions_per_image": 6,
      "min_region_words": 3,
      "validation_ratio": 0.1,
      "test_ratio": 0.1,
      "seed": 42,
      "lowercase": false
    },
    "show_progress": true
  },
  "paths": {
    "repo_root": "/content/comp545_final_github",
    "data_root": "/content/drive/MyDrive/comp545_data",
    "raw_data_dir": "/content/drive/MyDrive/comp545_data/visual_genome_raw",
    "processed_data_dir": "/content/drive/MyDrive/comp545_data/visual_genome",
    "images_dir": "/content/drive/MyDrive/comp545_data/visual_genome/images",
    "output_dir": "/content/drive/MyDrive/comp545_outputs",
    "cache_dir": "/content/drive/MyDrive/comp545_outputs/cache"
  },
  "baseline_metrics": {
    "train": {
      "t2i": {
        "1": 0.1175,
        "5": 0.26416666666666666,
        "10": 0.35533333333333333
      },
      "i2t": {
        "1": 0.241,
        "5": 0.458,
        "10": 0.566
      }
    },
    "val": {
      "t2i": {
        "1": 0.15366666666666667,
        "5": 0.3506666666666667,
        "10": 0.455
      },
      "i2t": {
        "1": 0.29,
        "5": 0.54,
        "10": 0.684
      }
    },
    "test": {
      "t2i": {
        "1": 0.13866666666666666,
        "5": 0.321,
        "10": 0.43366666666666664
      },
      "i2t": {
        "1": 0.278,
        "5": 0.508,
        "10": 0.604
      }
    }
  },
  "chunk_metrics": {
    "train": {
      "t2i": {
        "1": 0.1175,
        "5": 0.26416666666666666,
        "10": 0.35533333333333333
      },
      "i2t": {
        "1": 0.241,
        "5": 0.458,
        "10": 0.566
      }
    },
    "val": {
      "t2i": {
        "1": 0.15366666666666667,
        "5": 0.3506666666666667,
        "10": 0.455
      },
      "i2t": {
        "1": 0.29,
        "5": 0.54,
        "10": 0.684
      }
    },
    "test": {
      "t2i": {
        "1": 0.13866666666666666,
        "5": 0.321,
        "10": 0.43366666666666664
      },
      "i2t": {
        "1": 0.278,
        "5": 0.508,
        "10": 0.604
      }
    }
  },
  "adapter_metrics": {
    "0.2": {
      "train": {
        "t2i": {
          "1": 0.121,
          "5": 0.28633333333333333,
          "10": 0.39166666666666666
        },
        "i2t": {
          "1": 0.27,
          "5": 0.504,
          "10": 0.626
        }
      },
      "val": {
        "t2i": {
          "1": 0.16733333333333333,
          "5": 0.365,
          "10": 0.485
        },
        "i2t": {
          "1": 0.31,
          "5": 0.6,
          "10": 0.732
        }
      },
      "test": {
        "t2i": {
          "1": 0.15433333333333332,
          "5": 0.35033333333333333,
          "10": 0.4643333333333333
        },
        "i2t": {
          "1": 0.31,
          "5": 0.57,
          "10": 0.678
        }
      }
    }
  },
  "loss_logs": {
    "0.20": [
      [
        0,
        5.458517551422119,
        50.000003814697266
      ],
      [
        10,
        4.806361675262451,
        49.99976348876953
      ],
      [
        20,
        4.022428035736084,
        49.9995231628418
      ],
      [
        30,
        4.3474578857421875,
        49.99928283691406
      ],
      [
        40,
        3.9008736610412598,
        49.99905014038086
      ],
      [
        50,
        3.6930856704711914,
        49.998809814453125
      ],
      [
        60,
        3.979116916656494,
        49.99856948852539
      ],
      [
        70,
        3.8103768825531006,
        49.99833297729492
      ],
      [
        80,
        4.378141403198242,
        49.99809646606445
      ],
      [
        90,
        4.419712066650391,
        49.99789047241211
      ],
      [
        100,
        3.22052001953125,
        49.99773406982422
      ],
      [
        110,
        3.5815179347991943,
        49.997615814208984
      ],
      [
        120,
        3.702488660812378,
        49.997501373291016
      ],
      [
        130,
        3.6563920974731445,
        49.997379302978516
      ],
      [
        140,
        3.4336395263671875,
        49.99726104736328
      ],
      [
        150,
        3.2606470584869385,
        49.99713897705078
      ],
      [
        160,
        4.142051696777344,
        49.99702072143555
      ],
      [
        170,
        3.5587470531463623,
        49.99690246582031
      ],
      [
        180,
        4.215244293212891,
        49.99679183959961
      ],
      [
        190,
        3.364941120147705,
        49.996761322021484
      ],
      [
        200,
        3.9743056297302246,
        49.996761322021484
      ],
      [
        210,
        3.5967860221862793,
        49.996761322021484
      ],
      [
        220,
        3.4243857860565186,
        49.996761322021484
      ],
      [
        230,
        3.2361466884613037,
        49.99674606323242
      ],
      [
        240,
        3.006638526916504,
        49.99674606323242
      ],
      [
        250,
        3.4675745964050293,
        49.99674606323242
      ],
      [
        260,
        3.3721108436584473,
        49.99674606323242
      ],
      [
        270,
        3.8832592964172363,
        49.99674606323242
      ],
      [
        280,
        3.0041310787200928,
        49.99674606323242
      ],
      [
        290,
        3.007312774658203,
        49.99674606323242
      ],
      [
        299,
        3.2908401489257812,
        49.99674606323242
      ]
    ]
  },
  "summary": [
    {
      "split": "train",
      "metric": "t2i@1",
      "baseline": 0.1175,
      "chunk_baseline": 0.1175,
      "adapter_0.20": 0.121
    },
    {
      "split": "train",
      "metric": "t2i@5",
      "baseline": 0.26416666666666666,
      "chunk_baseline": 0.26416666666666666,
      "adapter_0.20": 0.28633333333333333
    },
    {
      "split": "train",
      "metric": "t2i@10",
      "baseline": 0.35533333333333333,
      "chunk_baseline": 0.35533333333333333,
      "adapter_0.20": 0.39166666666666666
    },
    {
      "split": "train",
      "metric": "i2t@1",
      "baseline": 0.241,
      "chunk_baseline": 0.241,
      "adapter_0.20": 0.27
    },
    {
      "split": "train",
      "metric": "i2t@5",
      "baseline": 0.458,
      "chunk_baseline": 0.458,
      "adapter_0.20": 0.504
    },
    {
      "split": "train",
      "metric": "i2t@10",
      "baseline": 0.566,
      "chunk_baseline": 0.566,
      "adapter_0.20": 0.626
    },
    {
      "split": "val",
      "metric": "t2i@1",
      "baseline": 0.15366666666666667,
      "chunk_baseline": 0.15366666666666667,
      "adapter_0.20": 0.16733333333333333
    },
    {
      "split": "val",
      "metric": "t2i@5",
      "baseline": 0.3506666666666667,
      "chunk_baseline": 0.3506666666666667,
      "adapter_0.20": 0.365
    },
    {
      "split": "val",
      "metric": "t2i@10",
      "baseline": 0.455,
      "chunk_baseline": 0.455,
      "adapter_0.20": 0.485
    },
    {
      "split": "val",
      "metric": "i2t@1",
      "baseline": 0.29,
      "chunk_baseline": 0.29,
      "adapter_0.20": 0.31
    },
    {
      "split": "val",
      "metric": "i2t@5",
      "baseline": 0.54,
      "chunk_baseline": 0.54,
      "adapter_0.20": 0.6
    },
    {
      "split": "val",
      "metric": "i2t@10",
      "baseline": 0.684,
      "chunk_baseline": 0.684,
      "adapter_0.20": 0.732
    },
    {
      "split": "test",
      "metric": "t2i@1",
      "baseline": 0.13866666666666666,
      "chunk_baseline": 0.13866666666666666,
      "adapter_0.20": 0.15433333333333332
    },
    {
      "split": "test",
      "metric": "t2i@5",
      "baseline": 0.321,
      "chunk_baseline": 0.321,
      "adapter_0.20": 0.35033333333333333
    },
    {
      "split": "test",
      "metric": "t2i@10",
      "baseline": 0.43366666666666664,
      "chunk_baseline": 0.43366666666666664,
      "adapter_0.20": 0.4643333333333333
    },
    {
      "split": "test",
      "metric": "i2t@1",
      "baseline": 0.278,
      "chunk_baseline": 0.278,
      "adapter_0.20": 0.31
    },
    {
      "split": "test",
      "metric": "i2t@5",
      "baseline": 0.508,
      "chunk_baseline": 0.508,
      "adapter_0.20": 0.57
    },
    {
      "split": "test",
      "metric": "i2t@10",
      "baseline": 0.604,
      "chunk_baseline": 0.604,
      "adapter_0.20": 0.678
    }
  ]
}